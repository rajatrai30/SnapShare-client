(this.webpackJsonpreact_sanity_socialmedia=this.webpackJsonpreact_sanity_socialmedia||[]).push([[0],{133:function(e,t,n){},134:function(e,t,n){"use strict";n.r(t);var c=n(2),s=n(36),a=n.n(s),l=n(5),i=n(4),o=n(14),r=n(1),d=function(e){var t=e.searchTerm,n=e.setSearchTerm,c=e.user,s=Object(i.f)();return c?Object(r.jsxs)("div",{className:"flex gap-2 md:gap-5 w-full mt-5 pb-7 ",children:[Object(r.jsxs)("div",{className:"flex justify-start items-center w-full px-2 rounded-md bg-white border-none outline-none focus-within:shadow-sm shadow-2xl",children:[Object(r.jsx)(o.c,{fontSize:21,className:"ml-1"}),Object(r.jsx)("input",{type:"text",onChange:function(e){return n(e.target.value)},placeholder:"Search",value:t,onFocus:function(){return s("/search")},className:"p-2 w-full bg-white outline-none"})]}),Object(r.jsxs)("div",{className:"flex gap-3 ",children:[Object(r.jsx)(l.b,{to:"user-profile/".concat(null===c||void 0===c?void 0:c._id),className:"hidden md:block",children:Object(r.jsx)("img",{src:c.image,alt:"user-pic",className:"w-14 h-12 rounded-lg "})}),Object(r.jsx)(l.b,{to:"/create-pin",className:"bg-black text-white rounded-lg w-12 h-12 md:w-14 md:h-12 flex justify-center items-center",children:Object(r.jsx)(o.b,{})})]})]}):null},u=n(37),j=n.p+"static/media/logonew.387fec1c.png",m=[{name:"cars",image:"https://i.pinimg.com/750x/eb/47/44/eb4744eaa3b3ccd89749fa3470e2b0de.jpg"},{name:"fitness",image:"https://i.pinimg.com/236x/25/14/29/251429345940a47490cc3d47dfe0a8eb.jpg"},{name:"wallpaper",image:"https://i.pinimg.com/236x/03/48/b6/0348b65919fcbe1e4f559dc4feb0ee13.jpg"},{name:"websites",image:"https://i.pinimg.com/750x/66/b1/29/66b1296d36598122e6a4c5452b5a7149.jpg"},{name:"photo",image:"https://i.pinimg.com/236x/72/8c/b4/728cb43f48ca762a75da645c121e5c57.jpg"},{name:"food",image:"https://i.pinimg.com/236x/7d/ef/15/7def15ac734837346dac01fad598fc87.jpg"},{name:"nature",image:"https://i.pinimg.com/236x/b9/82/d4/b982d49a1edd984c4faef745fd1f8479.jpg"},{name:"art",image:"https://i.pinimg.com/736x/f4/e5/ba/f4e5ba22311039662dd253be33bf5f0e.jpg"},{name:"travel",image:"https://i.pinimg.com/236x/fa/95/98/fa95986f2c408098531ca7cc78aee3a4.jpg"},{name:"quotes",image:"https://i.pinimg.com/236x/46/7c/17/467c17277badb00b638f8ec4da89a358.jpg"},{name:"cats",image:"https://i.pinimg.com/236x/6c/3c/52/6c3c529e8dadc7cffc4fddedd4caabe1.jpg"},{name:"dogs",image:"https://i.pinimg.com/236x/1b/c8/30/1bc83077e363db1a394bf6a64b071e9f.jpg"},{name:"others",image:"https://i.pinimg.com/236x/2e/63/c8/2e63c82dfd49aca8dccf9de3f57e8588.jpg"}],b='*[_type == "pin"] | order(_createdAt desc) {\n  image{\n    asset->{\n      url\n    }\n  },\n      _id,\n      destination,\n      postedBy->{\n        _id,\n        userName,\n        image\n      },\n      save[]{\n        _key,\n        postedBy->{\n          _id,\n          userName,\n          image\n        },\n      },\n    } ',f=function(e){return'*[_type == "pin" && title match \''.concat(e,"*' || category match '").concat(e,"*' || about match '").concat(e,"*']{\n        image{\n          asset->{\n            url\n          }\n        },\n            _id,\n            destination,\n            postedBy->{\n              _id,\n              userName,\n              image\n            },\n            save[]{\n              _key,\n              postedBy->{\n                _id,\n                userName,\n                image\n              },\n            },\n          }")},x=function(e){return'*[_type == "user" && _id == \''.concat(e,"']")},p="flex items-center px-5 gap-3 text-gray-500 hover:text-black transition-all duration-200 ease-in-out capitalize",h="flex items-center px-5 gap-3 font-extrabold border-r-2 border-black  transition-all duration-200 ease-in-out capitalize",g=function(e){var t=e.closeToggle,n=e.user,c=function(){t&&t(!1)};return Object(r.jsxs)("div",{className:"flex flex-col justify-between bg-white h-full overflow-y-scroll min-w-210 hide-scrollbar shadow-2xl",children:[Object(r.jsxs)("div",{className:"flex flex-col",children:[Object(r.jsxs)(l.b,{to:"/",className:"flex flex-row px-5 gap-2 my-6 pt-1 w-190 items-center",onClick:c,children:[Object(r.jsx)("img",{src:j,alt:"logo",className:"w-10 h-15 rounded-md"}),Object(r.jsx)("h2",{className:"text-2xl text-[#0f0f0f] font-bold font-serif mr-3",children:"SnapShare"})]}),Object(r.jsxs)("div",{className:"flex flex-col gap-5",children:[Object(r.jsxs)(l.c,{to:"/",className:function(e){return e.isActive?h:p},onClick:c,children:[Object(r.jsx)(u.a,{}),"Home"]}),Object(r.jsx)("h3",{className:"mt-2 px-5 text-base 2xl:text-xl",children:"Discover cateogries"}),m.slice(0,m.length-1).map((function(e){return Object(r.jsxs)(l.c,{to:"/category/".concat(e.name),className:function(e){return e.isActive?h:p},onClick:c,children:[Object(r.jsx)("img",{src:e.image,className:"w-8 h-8 rounded-full shadow-sm"}),e.name]},e.name)}))]})]}),n&&Object(r.jsxs)(l.b,{to:"user-profile/".concat(n._id),className:"flex my-5 mb-3 gap-2 p-2 items-center bg-white rounded-lg shadow-lg mx-3",onClick:c,children:[Object(r.jsx)("img",{src:n.image,className:"w-10 h-10 rounded-full",alt:"user-profile"}),Object(r.jsx)("p",{children:n.userName}),Object(r.jsx)(o.a,{})]})]})},O=n(3),v=n(38),N=n.n(v),y=n(39),w=n.n(y),_=N()({projectId:"so08q4if",dataset:"production",apiVersion:"2021-03-25",useCdn:!0,token:"skLcsY8DAlbC5NxSS9NVSCnMP54iZP3DNQFzG0OcvrJRIJdOrv1j9xRDYxRKDSNCkG0V5A0rrR0t2xi4VLBfl6cjiaJ5DDqONKko3ZxPuTqYXsY4Q1y6xpnukyew1Gy1pP817LHzzbLv1vlIfwfPiib4dmXivYqS3QcMYHP2TnsZN1GN5E83"}),S=w()(_),k=function(e){return S.image(e)},C=n(44),I=n(135),B=n(13),P=n(10),T=n(40),z=function(e){var t,n,s,a,o,d,u=e.pin,j=Object(c.useState)(!1),m=Object(O.a)(j,2),b=m[0],f=m[1],x=Object(c.useState)(!1),p=Object(O.a)(x,2),h=p[0],g=p[1],v=Object(i.f)(),N=u.postedBy,y=u.image,w=u._id,S=u.destination,C="undefined"!==localStorage.getItem("user")?JSON.parse(localStorage.getItem("user")):localStorage.clear(),z=null===u||void 0===u||null===(t=u.save)||void 0===t?void 0:t.filter((function(e){var t;return(null===e||void 0===e||null===(t=e.postedBy)||void 0===t?void 0:t._id)===(null===C||void 0===C?void 0:C.googleId)}));z=(null===(n=z)||void 0===n?void 0:n.length)>0?z:[];return Object(r.jsxs)("div",{className:"m-2",children:[Object(r.jsxs)("div",{onMouseEnter:function(){return f(!0)},onMouseLeave:function(){return f(!1)},onClick:function(){return v("/pin-detail/".concat(w))},className:"relative cursor-zoom-in w-auto hover:shadow-lg rounded-lg overflow-hidden transition-all duration-500 ease-in-out shadow-card",children:[y&&Object(r.jsx)("img",{className:"rounded-lg w-full shadow-card",src:k(y).width(250).url(),alt:"user-post"}),b&&Object(r.jsxs)("div",{className:"absolute top-0 w-full h-full flex flex-col justify-between p-1 pr-2 pt-2 pb-2 z-50",style:{height:"100%"},children:[Object(r.jsxs)("div",{className:"flex items-center justify-between",children:[Object(r.jsx)("div",{className:"flex gap-2",children:Object(r.jsx)("a",{href:"".concat(null===y||void 0===y||null===(s=y.asset)||void 0===s?void 0:s.url,"?dl="),download:!0,onClick:function(e){e.stopPropagation()},className:"bg-white w-9 h-9 p-2 rounded-full flex items-center justify-center text-dark text-xl opacity-75 hover:opacity-100 hover:shadow-md outline-none",children:Object(r.jsx)(B.b,{})})}),0!==(null===(a=z)||void 0===a?void 0:a.length)?Object(r.jsxs)("button",{type:"button",className:"bg-red-500 opacity-70 hover:opacity-100 text-white font-bold px-5 py-1 text-base rounded-3xl hover:shadow-md outline-none",children:[null===u||void 0===u||null===(o=u.save)||void 0===o?void 0:o.length,"  Saved"]}):Object(r.jsxs)("button",{onClick:function(e){e.stopPropagation(),function(e){var t;0===(null===(t=z)||void 0===t?void 0:t.length)&&(g(!0),_.patch(e).setIfMissing({save:[]}).insert("after","save[-1]",[{_key:Object(I.a)(),userId:null===C||void 0===C?void 0:C.googleId,postedBy:{_type:"postedBy",_ref:null===C||void 0===C?void 0:C.googleId}}]).commit().then((function(){window.location.reload(),g(!1)})))}(w)},type:"button",className:"bg-purple-900 opacity-70 hover:opacity-100 text-white font-bold px-5 py-1 text-base rounded-3xl hover:shadow-md outline-none",children:[null===u||void 0===u||null===(d=u.save)||void 0===d?void 0:d.length,"   ",h?"Saving":"Save"]})]}),Object(r.jsxs)("div",{className:" flex justify-between items-center gap-2 w-full",children:[(null===S||void 0===S?void 0:S.slice(8).length)>0?Object(r.jsxs)("a",{href:S,target:"_blank",className:"bg-white flex items-center gap-2 text-black font-bold p-2 pl-4 pr-4 rounded-full opacity-70 hover:opacity-100 hover:shadow-md",rel:"noreferrer",children:[" ",Object(r.jsx)(T.a,{}),null===S||void 0===S?void 0:S.slice(8,17),"..."]}):void 0,(null===N||void 0===N?void 0:N._id)===(null===C||void 0===C?void 0:C.googleId)&&Object(r.jsx)("button",{type:"button",onClick:function(e){var t;e.stopPropagation(),t=w,_.delete(t).then((function(){window.location.reload()}))},className:"bg-white p-2 rounded-full w-8 h-8 flex items-center justify-center text-dark opacity-75 hover:opacity-100 outline-none",children:Object(r.jsx)(P.d,{})})]})]})]}),Object(r.jsxs)(l.b,{to:"/user-profile/".concat(null===N||void 0===N?void 0:N._id),className:"flex gap-2 mt-2 items-center",children:[Object(r.jsx)("img",{className:"w-8 h-8 rounded-full object-cover",src:null===N||void 0===N?void 0:N.image,alt:"user-profile"}),Object(r.jsx)("p",{className:"font-semibold capitalize",children:null===N||void 0===N?void 0:N.userName})]})]})},E={default:4,3e3:6,2e3:5,1200:3,1e3:2,500:1},F=function(e){var t=e.pins;return Object(r.jsx)(C.a,{className:"flex animate-slide-fwd",breakpointCols:E,children:null===t||void 0===t?void 0:t.map((function(e){return Object(r.jsx)(z,{pin:e,className:"w-max"},e._id)}))})},J=n(41),A=n.n(J);var G=function(e){var t=e.message;return Object(r.jsxs)("div",{className:"flex flex-col justify-center items-center w-full h-full",children:[Object(r.jsx)(A.a,{type:"Circles",color:"#00BFFF",height:50,width:200,className:"m-5"}),Object(r.jsx)("p",{className:"text-lg text-center px-2",children:t})]})},L=function(){var e=Object(c.useState)(),t=Object(O.a)(e,2),n=t[0],s=t[1],a=Object(c.useState)(!1),l=Object(O.a)(a,2),o=l[0],d=l[1],u=Object(i.g)().categoryId;Object(c.useEffect)((function(){if(u){d(!0);var e=f(u);_.fetch(e).then((function(e){s(e),d(!1)}))}else d(!0),_.fetch(b).then((function(e){s(e),d(!1)}))}),[u]);var j=u||"new";return o?Object(r.jsx)(G,{message:"We are adding ".concat(j," ideas to your feed!")}):Object(r.jsx)("div",{children:n&&Object(r.jsx)(F,{pins:n})})},q=function(e){var t,n,s=e.user,a=Object(i.g)().pinId,o=Object(c.useState)(),d=Object(O.a)(o,2),u=d[0],j=d[1],m=Object(c.useState)(),b=Object(O.a)(m,2),f=b[0],x=b[1],p=Object(c.useState)(""),h=Object(O.a)(p,2),g=h[0],v=h[1],N=Object(c.useState)(!1),y=Object(O.a)(N,2),w=y[0],S=y[1],C=function(){var e=function(e){return'*[_type == "pin" && _id == \''.concat(e,"']{\n    image{\n      asset->{\n        url\n      }\n    },\n    _id,\n    title, \n    about,\n    category,\n    destination,\n    postedBy->{\n      _id,\n      userName,\n      image\n    },\n   save[]{\n      postedBy->{\n        _id,\n        userName,\n        image\n      },\n    },\n    comments[]{\n      comment,\n      _key,\n      postedBy->{\n        _id,\n        userName,\n        image\n      },\n    }\n  }")}(a);e&&_.fetch("".concat(e)).then((function(e){if(x(e[0]),console.log(e),e[0]){var t=(n=e[0],'*[_type == "pin" && category == \''.concat(n.category,"' && _id != '").concat(n._id,"' ]{\n    image{\n      asset->{\n        url\n      }\n    },\n    _id,\n    destination,\n    postedBy->{\n      _id,\n      userName,\n      image\n    },\n    save[]{\n      _key,\n      postedBy->{\n        _id,\n        userName,\n        image\n      },\n    },\n  }"));_.fetch(t).then((function(e){j(e)}))}var n}))};Object(c.useEffect)((function(){C()}),[a]);return f?Object(r.jsxs)(r.Fragment,{children:[f&&Object(r.jsxs)("div",{className:"flex xl:flex-row flex-col m-auto bg-white",style:{maxWidth:"1500px",borderRadius:"32px"},children:[Object(r.jsx)("div",{className:"flex justify-center items-center md:items-start flex-initial",children:Object(r.jsx)("img",{className:"rounded-t-3xl rounded-b-lg",src:(null===f||void 0===f?void 0:f.image)&&k(null===f||void 0===f?void 0:f.image).url(),alt:"user-post"})}),Object(r.jsxs)("div",{className:"w-full p-5 flex-1 xl:min-w-620",children:[Object(r.jsxs)("div",{className:"flex items-center justify-between",children:[Object(r.jsx)("div",{className:"flex gap-2 items-center",children:Object(r.jsx)("a",{href:"".concat(f.image.asset.url,"?dl="),download:!0,className:"bg-secondaryColor p-2 text-xl rounded-full flex items-center justify-center text-dark opacity-75 hover:opacity-100",children:Object(r.jsx)(B.b,{})})}),Object(r.jsx)("a",{href:f.destination,target:"_blank",rel:"noreferrer",children:null===(t=f.destination)||void 0===t?void 0:t.slice(8)})]}),Object(r.jsxs)("div",{children:[Object(r.jsx)("h1",{className:"text-4xl font-bold break-words mt-3",children:f.title}),Object(r.jsx)("p",{className:"mt-3",children:f.about})]}),Object(r.jsxs)(l.b,{to:"/user-profile/".concat(null===f||void 0===f?void 0:f.postedBy._id),className:"flex gap-2 mt-5 items-center bg-white rounded-lg ",children:[Object(r.jsx)("img",{src:null===f||void 0===f?void 0:f.postedBy.image,className:"w-10 h-10 rounded-full",alt:"user-profile"}),Object(r.jsx)("p",{className:"font-bold",children:null===f||void 0===f?void 0:f.postedBy.userName})]}),Object(r.jsx)("h2",{className:"mt-5 text-2xl",children:"Comments"}),Object(r.jsx)("div",{className:"max-h-370 overflow-y-auto",children:null===f||void 0===f||null===(n=f.comments)||void 0===n?void 0:n.map((function(e){var t,n;return Object(r.jsxs)("div",{className:"flex gap-2 mt-5 items-center bg-white rounded-lg",children:[Object(r.jsx)("img",{src:null===(t=e.postedBy)||void 0===t?void 0:t.image,className:"w-10 h-10 rounded-full cursor-pointer",alt:"user-profile"}),Object(r.jsxs)("div",{className:"flex flex-col",children:[Object(r.jsx)("p",{className:"font-bold",children:null===(n=e.postedBy)||void 0===n?void 0:n.userName}),Object(r.jsx)("p",{children:e.comment})]})]},e.comment)}))}),Object(r.jsxs)("div",{className:"flex flex-wrap mt-6 gap-3",children:[Object(r.jsx)(l.b,{to:"/user-profile/".concat(s._id),children:Object(r.jsx)("img",{src:s.image,className:"w-10 h-10 rounded-full cursor-pointer",alt:"user-profile"})}),Object(r.jsx)("input",{className:" flex-1 border-gray-100 outline-none border-2 p-2 rounded-2xl focus:border-gray-300",type:"text",placeholder:"Add a comment",value:g,onChange:function(e){return v(e.target.value)}}),Object(r.jsx)("button",{type:"button",className:"bg-purple-900 text-white rounded-full px-6 py-2 font-semibold text-base outline-none",onClick:function(){g&&(S(!0),_.patch(a).setIfMissing({comments:[]}).insert("after","comments[-1]",[{comment:g,_key:Object(I.a)(),postedBy:{_type:"postedBy",_ref:s._id}}]).commit().then((function(){C(),v(""),S(!1)})))},children:w?"Doing...":"Done"})]})]})]}),(null===u||void 0===u?void 0:u.length)>0&&Object(r.jsx)("h2",{className:"text-center font-bold text-2xl mt-8 mb-4",children:"More like this"}),u?Object(r.jsx)(F,{pins:u}):Object(r.jsx)(G,{message:"Loading more pins"})]}):Object(r.jsx)(G,{message:"Showing pin"})},D=n(17),M=n.n(D),R="bg-purple-900 text-white font-bold p-2 rounded-full w-20 outline-none",Y="bg-primary mr-4 text-black font-bold p-2 rounded-full w-20 outline-none",V=function(){var e=Object(c.useState)(),t=Object(O.a)(e,2),n=t[0],s=t[1],a=Object(c.useState)(),l=Object(O.a)(a,2),o=l[0],d=l[1],u=Object(c.useState)("Created"),j=Object(O.a)(u,2),m=j[0],b=j[1],f=Object(c.useState)("created"),p=Object(O.a)(f,2),h=p[0],g=p[1],v=Object(i.f)(),N=Object(i.g)().userId,y="undefined"!==localStorage.getItem("user")?JSON.parse(localStorage.getItem("user")):localStorage.clear();Object(c.useEffect)((function(){var e=x(N);_.fetch(e).then((function(e){s(e[0])}))}),[N]),Object(c.useEffect)((function(){if("Created"===m){var e=function(e){return"*[ _type == 'pin' && userId == '".concat(e,"'] | order(_createdAt desc){\n    image{\n      asset->{\n        url\n      }\n    },\n    _id,\n    destination,\n    postedBy->{\n      _id,\n      userName,\n      image\n    },\n    save[]{\n      postedBy->{\n        _id,\n        userName,\n        image\n      },\n    },\n  }")}(N);_.fetch(e).then((function(e){d(e)}))}else{var t=function(e){return"*[_type == 'pin' && '".concat(e,"' in save[].userId ] | order(_createdAt desc) {\n    image{\n      asset->{\n        url\n      }\n    },\n    _id,\n    destination,\n    postedBy->{\n      _id,\n      userName,\n      image\n    },\n    save[]{\n      postedBy->{\n        _id,\n        userName,\n        image\n      },\n    },\n  }")}(N);_.fetch(t).then((function(e){d(e)}))}}),[m,N]);return n?Object(r.jsx)("div",{className:"relative pb-2 h-full justify-center items-center",children:Object(r.jsxs)("div",{className:"flex flex-col pb-5",children:[Object(r.jsxs)("div",{className:"relative flex flex-col mb-7",children:[Object(r.jsxs)("div",{className:"flex flex-col justify-center items-center",children:[Object(r.jsx)("img",{className:" w-full h-370 2xl:h-510 shadow-lg object-cover",src:"https://source.unsplash.com/1600x900/?nature,photography,technology",alt:"user-pic"}),Object(r.jsx)("img",{className:"rounded-full w-20 h-20 -mt-10 shadow-xl object-cover",src:n.image,alt:"user-pic"})]}),Object(r.jsx)("h1",{className:"font-bold text-3xl text-center mt-3",children:n.userName}),Object(r.jsx)("div",{className:"absolute top-0 z-1 right-0 p-2",children:N===y.googleId&&Object(r.jsx)(D.GoogleLogout,{clientId:"".concat("504472639372-3hdo6phtk6o1qsso3cru1k3ejpat8rp6.apps.googleusercontent.com"),render:function(e){return Object(r.jsx)("button",{type:"button",className:" bg-white p-2 rounded-full cursor-pointer outline-none shadow-md",onClick:e.onClick,disabled:e.disabled,children:Object(r.jsx)(P.c,{color:"red",fontSize:21})})},onLogoutSuccess:function(){localStorage.clear(),v("/login")},cookiePolicy:"single_host_origin"})})]}),Object(r.jsxs)("div",{className:"text-center mb-7",children:[Object(r.jsx)("button",{type:"button",onClick:function(e){b(e.target.textContent),g("created")},className:"".concat("created"===h?R:Y),children:"Created"}),Object(r.jsx)("button",{type:"button",onClick:function(e){b(e.target.textContent),g("saved")},className:"".concat("saved"===h?R:Y),children:"Saved"})]}),Object(r.jsx)("div",{className:"px-2",children:Object(r.jsx)(F,{pins:o})}),0===(null===o||void 0===o?void 0:o.length)&&Object(r.jsx)("div",{className:"flex justify-center font-bold items-center w-full text-1xl mt-2",children:"No Pins Found!"})]})}):Object(r.jsx)(G,{message:"Loading profile"})},H=function(e){var t=e.user,n=Object(c.useState)(""),s=Object(O.a)(n,2),a=s[0],l=s[1],o=Object(c.useState)(""),d=Object(O.a)(o,2),u=d[0],j=d[1],b=Object(c.useState)(!1),f=Object(O.a)(b,2),x=f[0],p=f[1],h=Object(c.useState)(),g=Object(O.a)(h,2),v=g[0],N=g[1],y=Object(c.useState)(),w=Object(O.a)(y,2),S=w[0],k=w[1],C=Object(c.useState)(),I=Object(O.a)(C,2),T=I[0],z=I[1],E=Object(c.useState)(),F=Object(O.a)(E,2),J=F[0],A=F[1],L=Object(c.useState)(!1),q=Object(O.a)(L,2),D=q[0],M=q[1],R=Object(i.f)();return Object(r.jsxs)("div",{className:"flex flex-col justify-center items-center mt-5 lg:h-4/5",children:[S&&Object(r.jsx)("p",{className:"text-red-500 mb-5 text-xl transition-all duration-150 ease-in ",children:"Please add all fields."}),Object(r.jsxs)("div",{className:" flex lg:flex-row flex-col justify-center items-center bg-white lg:p-5 p-3 lg:w-4/5  w-full",children:[Object(r.jsx)("div",{className:"bg-secondaryColor p-3 flex flex-0.7 w-full",children:Object(r.jsxs)("div",{className:" flex justify-center items-center flex-col border-2 border-dotted border-gray-300 p-3 w-full h-420",children:[x&&Object(r.jsx)(G,{}),D&&Object(r.jsx)("p",{children:"It's wrong file type."}),J?Object(r.jsxs)("div",{className:"relative h-full",children:[Object(r.jsx)("img",{src:null===J||void 0===J?void 0:J.url,alt:"uploaded-pic",className:"h-full w-full"}),Object(r.jsx)("button",{type:"button",className:"absolute bottom-3 right-3 p-3 rounded-full bg-white text-xl cursor-pointer outline-none hover:shadow-md transition-all duration-500 ease-in-out",onClick:function(){return A(null)},children:Object(r.jsx)(B.a,{})})]}):Object(r.jsxs)("label",{children:[Object(r.jsxs)("div",{className:"flex flex-col items-center justify-center h-full",children:[Object(r.jsxs)("div",{className:"flex flex-col justify-center items-center",children:[Object(r.jsx)("p",{className:"font-bold text-2xl",children:Object(r.jsx)(P.b,{})}),Object(r.jsx)("p",{className:"text-lg",children:"Click to upload"})]}),Object(r.jsx)("p",{className:"mt-32 text-gray-400",children:"Recommendation: Use high-quality JPG, JPEG, SVG, PNG, GIF or TIFF less than 20MB"})]}),Object(r.jsx)("input",{type:"file",name:"upload-image",onChange:function(e){var t=e.target.files[0];"image/png"===t.type||"image/svg"===t.type||"image/jpeg"===t.type||"image/gif"===t.type||"image/tiff"===t.type?(M(!1),p(!0),_.assets.upload("image",t,{contentType:t.type,filename:t.name}).then((function(e){A(e),p(!1)})).catch((function(e){console.log("Upload failed:",e.message)}))):(p(!1),M(!0))},className:"w-0 h-0"})]})]})}),Object(r.jsxs)("div",{className:"flex flex-1 flex-col gap-6 lg:pl-5 mt-5 w-full",children:[Object(r.jsx)("input",{type:"text",value:a,onChange:function(e){return l(e.target.value)},placeholder:"Add your title",className:"outline-none text-2xl sm:text-3xl font-bold border-b-2 border-gray-200 p-2"}),t&&Object(r.jsxs)("div",{className:"flex gap-2 mt-2 mb-2 items-center bg-white rounded-lg ",children:[Object(r.jsx)("img",{src:t.image,className:"w-10 h-10 rounded-full",alt:"user-profile"}),Object(r.jsx)("p",{className:"font-bold",children:t.userName})]}),Object(r.jsx)("input",{type:"text",value:u,onChange:function(e){return j(e.target.value)},placeholder:"Tell everyone what your Pin is about",className:"outline-none text-base sm:text-lg border-b-2 border-gray-200 p-2"}),Object(r.jsx)("input",{type:"url",vlaue:v,onChange:function(e){return N(e.target.value)},placeholder:"Add a destination link",className:"outline-none text-base sm:text-lg border-b-2 border-gray-200 p-2"}),Object(r.jsxs)("div",{className:"flex flex-col",children:[Object(r.jsxs)("div",{children:[Object(r.jsx)("p",{className:"mb-2 font-semibold text:lg sm:text-xl",children:"Choose Pin Category"}),Object(r.jsxs)("select",{onChange:function(e){z(e.target.value)},className:"outline-none w-4/5 text-base border-b-2 border-gray-200 p-2 rounded-md cursor-pointer",children:[Object(r.jsx)("option",{value:"others",className:"sm:text-bg bg-white",children:"Select Category"}),m.map((function(e){return Object(r.jsx)("option",{className:"text-base border-0 outline-none capitalize bg-white text-black ",value:e.name,children:e.name})}))]})]}),Object(r.jsx)("div",{className:"flex justify-end items-end mt-5",children:Object(r.jsx)("button",{type:"button",onClick:function(){if(a&&u&&v&&(null===J||void 0===J?void 0:J._id)&&T){var e={_type:"pin",title:a,about:u,destination:v,image:{_type:"image",asset:{_type:"reference",_ref:null===J||void 0===J?void 0:J._id}},userId:t._id,postedBy:{_type:"postedBy",_ref:t._id},category:T};_.create(e).then((function(){R("/")}))}else k(!0),setTimeout((function(){k(!1)}),2e3)},className:"bg-purple-900 text-white font-bold p-2 rounded-full w-28 outline-none",children:"Save Pin"})})]})]})]})]})},Q=function(e){var t=e.searchTerm,n=Object(c.useState)(),s=Object(O.a)(n,2),a=s[0],l=s[1],i=Object(c.useState)(!1),o=Object(O.a)(i,2),d=o[0],u=o[1];return Object(c.useEffect)((function(){if(""!==t){u(!0);var e=f(t.toLowerCase());_.fetch(e).then((function(e){l(e),u(!1)}))}else _.fetch(b).then((function(e){l(e),u(!1)}))}),[t]),Object(r.jsxs)("div",{children:[d&&Object(r.jsx)(G,{message:"Searching pins"}),0!==(null===a||void 0===a?void 0:a.length)&&Object(r.jsx)(F,{pins:a}),0===(null===a||void 0===a?void 0:a.length)&&""!==t&&!d&&Object(r.jsx)("div",{className:"mt-10 text-center text-xl ",children:"No Pins Found!"})]})},U=n(42),Z=n(24),K=n.p+"static/media/share.f758eefc.mp4",W=function(){Object(c.useEffect)((function(){Z.a.load("client:auth2",(function(){Z.a.client.init({clientId:"504472639372-3hdo6phtk6o1qsso3cru1k3ejpat8rp6.apps.googleusercontent.com",scope:""})}))}));var e=Object(i.f)(),t=function(t){localStorage.setItem("user",JSON.stringify(t.profileObj));var n=t.profileObj,c=n.name,s={_id:n.googleId,_type:"user",userName:c,image:n.imageUrl};_.createIfNotExists(s).then((function(){e("/",{replace:!0})}))};return Object(r.jsx)("div",{className:"flex justify-start items-center flex-col h-screen",children:Object(r.jsxs)("div",{className:" relative w-full h-full",children:[Object(r.jsx)("video",{src:K,type:"video/mp4",loop:!0,controls:!1,muted:!0,autoPlay:!0,className:"w-full h-full object-cover"}),Object(r.jsxs)("div",{className:"absolute flex flex-col justify-center items-center top-0 right-0 left-0 bottom-0    bg-blackOverlay",children:[Object(r.jsxs)("div",{className:"flex flex-row align-center p-5",children:[Object(r.jsx)("img",{src:j,width:"40px rounded-xl"}),Object(r.jsx)("h2",{className:"text-2xl text-[#fff] pl-3 font-bold ml-2",children:"SnapShare"})]}),Object(r.jsx)("div",{className:"shadow-2xl",children:Object(r.jsx)(M.a,{clientId:"".concat("504472639372-3hdo6phtk6o1qsso3cru1k3ejpat8rp6.apps.googleusercontent.com"),render:function(e){return Object(r.jsxs)("button",{type:"button",className:"bg-mainColor flex justify-center items-center p-3 rounded-lg cursor-pointer outline-none",onClick:e.onClick,disabled:e.disabled,children:[Object(r.jsx)(U.a,{className:"mr-4"})," Sign in with google"]})},onSuccess:t,onFailure:t,cookiePolicy:"single_host_origin"})})]})]})})},X=n(43),$=function(e){var t=e.user,n=Object(c.useState)(""),s=Object(O.a)(n,2),a=s[0],l=s[1];return Object(r.jsxs)("div",{className:"px-2 md:px-5",children:[Object(r.jsx)("div",{className:"bg-gray-50",children:Object(r.jsx)(d,{searchTerm:a,setSearchTerm:l,user:t&&t})}),Object(r.jsx)("div",{className:"h-full",children:Object(r.jsxs)(i.c,{children:[Object(r.jsx)(i.a,{path:"/",element:Object(r.jsx)(L,{})}),Object(r.jsx)(i.a,{path:"/category/:categoryId",element:Object(r.jsx)(L,{})}),Object(r.jsx)(i.a,{path:"/pin-detail/:pinId",element:Object(r.jsx)(q,{user:t&&t})}),Object(r.jsx)(i.a,{path:"/create-pin",element:Object(r.jsx)(H,{user:t&&t})}),Object(r.jsx)(i.a,{path:"/search",element:Object(r.jsx)(Q,{searchTerm:a,setSearchTerm:l})})]})})]})},ee=function(){var e=Object(c.useState)(!1),t=Object(O.a)(e,2),n=t[0],s=t[1],a=Object(c.useState)(),o=Object(O.a)(a,2),d=o[0],u=o[1],m=Object(c.useRef)(null),b="undefined"!==localStorage.getItem("user")?JSON.parse(localStorage.getItem("user")):localStorage.clear();return Object(c.useEffect)((function(){var e=x(null===b||void 0===b?void 0:b.googleId);_.fetch(e).then((function(e){u(e[0])}))}),[]),Object(c.useEffect)((function(){m.current.scrollTo(0,0)})),Object(r.jsxs)("div",{className:"flex md:flex-row flex-col h-screen transition-height duration-75 ease-out",children:[Object(r.jsx)("div",{className:"hidden md:flex h-screen flex-initial",children:Object(r.jsx)(g,{user:d&&d})}),Object(r.jsxs)("div",{className:"flex md:hidden flex-row",children:[Object(r.jsxs)("div",{className:"p-2 w-full flex flex-row justify-between items-center",children:[Object(r.jsx)(X.a,{fontSize:40,className:"cursor-pointer",onClick:function(){return s(!0)}}),Object(r.jsxs)(l.b,{to:"/",className:"flex flex-row items-center",children:[Object(r.jsx)("img",{src:j,alt:"logo",className:"w-8 h-13 rounded-md"}),Object(r.jsx)("h2",{className:"text-2xl text-[#0f0f0f] pl-3 font-bold font-serif",children:"SnapShare"})]}),Object(r.jsx)(l.b,{to:"user-profile/".concat(null===d||void 0===d?void 0:d._id),children:Object(r.jsx)("img",{src:null===d||void 0===d?void 0:d.image,alt:"user-pic",className:"w-9 h-9 rounded-full "})})]}),n&&Object(r.jsxs)("div",{className:"fixed w-4/5 bg-white h-screen overflow-y-auto shadow-md z-10 animate-slide-in",children:[Object(r.jsx)("div",{className:"absolute w-full flex justify-end items-center p-2",children:Object(r.jsx)(P.a,{fontSize:30,className:"cursor-pointer",onClick:function(){return s(!1)}})}),Object(r.jsx)(g,{closeToggle:s,user:d&&d})]})]}),Object(r.jsx)("div",{className:"pb-2 flex-1 h-screen overflow-y-scroll",ref:m,children:Object(r.jsxs)(i.c,{children:[Object(r.jsx)(i.a,{path:"/user-profile/:userId",element:Object(r.jsx)(V,{})}),Object(r.jsx)(i.a,{path:"/*",element:Object(r.jsx)($,{user:d&&d})})]})})]})},te=function(){var e=Object(i.f)();return Object(c.useEffect)((function(){("undefined"!==localStorage.getItem("user")?JSON.parse(localStorage.getItem("user")):localStorage.clear())||e("/login")}),[]),Object(r.jsxs)(i.c,{children:[Object(r.jsx)(i.a,{path:"login",element:Object(r.jsx)(W,{})}),Object(r.jsx)(i.a,{path:"/*",element:Object(r.jsx)(ee,{})})]})};n(133);a.a.render(Object(r.jsx)(l.a,{children:Object(r.jsx)(te,{})}),document.getElementById("root"))}},[[134,1,2]]]);
//# sourceMappingURL=main.185e40d3.chunk.js.map